{
  "nodes": [
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"instagram_id\": \"0000\",\n  \"youtube_id\": \"0000\",\n  \"threads_id\": \"0000\",\n  \"tiktok_id\": \"0000\",\n  \"facebook_id\": \"0000\",\n  \"facebook_page_id\": \"000000000000\",\n  \"twitter_id\": \"0000\",\n  \"linkedin_id\": \"0000\",\n  \"pinterest_id\": \"0000\",\n  \"pinterest_board_id\": \"00000000000000000000\",\n  \"bluesky_id\": \"0000\"\n}\n",
        "options": {}
      },
      "id": "d7af5598-884e-47b5-8b4d-2b2319821023",
      "name": "Assign Social Media IDs",
      "type": "n8n-nodes-base.set",
      "position": [
        208,
        -48
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/media",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ $('Update Final Video URL in Sheet').item.json['URL de la vid√©o'] }}"
            }
          ]
        },
        "options": {}
      },
      "id": "c795d319-9a79-43cc-9fde-a0f3250d0014",
      "name": "Upload Video to Blotato",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        432,
        -48
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/posts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "=YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.instagram_id }}\",\n    \"target\": {\n      \"targetType\": \"instagram\"\n    },\n    \"content\": {\n      \"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Caption }}\",\n      \"platform\": \"instagram\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n\n",
        "options": {}
      },
      "id": "549f08c4-62ef-4ef3-a647-b9324bb17a21",
      "name": "INSTAGRAM",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        704,
        -288
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/posts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.youtube_id }}\",\n    \"target\": {\n      \"targetType\": \"youtube\",\n      \"title\": \"{{ $('Save Rewritten Video to Google Sheets').item.json['Texte superpos√©'] }}\",\n      \"privacyStatus\": \"unlisted\",\n      \"shouldNotifySubscribers\": \"false\"\n    },\n    \"content\": {\n      \"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Caption }}\",\n      \"platform\": \"youtube\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "options": {}
      },
      "id": "7cd9f271-3dba-4519-8f5f-e74f97887946",
      "name": "YOUTUBE",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        928,
        -288
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/posts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.tiktok_id }}\",\n    \"target\": {\n      \"targetType\": \"tiktok\",\n      \"isYourBrand\": \"false\", \n      \"disabledDuet\": \"false\",\n      \"privacyLevel\": \"PUBLIC_TO_EVERYONE\",\n      \"isAiGenerated\": \"true\",\n      \"disabledStitch\": \"false\",\n      \"disabledComments\": \"false\",\n      \"isBrandedContent\": \"false\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Caption }}\",\n      \"platform\": \"tiktok\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "options": {}
      },
      "id": "dddb4164-83c2-4a17-8233-a0cc6f4e4366",
      "name": "TIKTOK",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1136,
        -288
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/posts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.facebook_id }}\",\n    \"target\": {\n      \"targetType\": \"facebook\",\n      \"pageId\": \"{{ $('Assign Social Media IDs').item.json.facebook_page_id }}\"\n\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Caption }}\",\n      \"platform\": \"facebook\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}",
        "options": {}
      },
      "id": "68d30236-3fb1-4437-b0d1-98af474eb05e",
      "name": "FACEBOOK",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        704,
        -48
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/posts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.threads_id }}\",\n    \"target\": {\n      \"targetType\": \"threads\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Caption }}\",\n      \"platform\": \"threads\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "options": {}
      },
      "id": "38f126d7-d87e-45c6-bf7e-2b337a4e2a65",
      "name": "THREADS",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        928,
        -48
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/posts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "=YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.twitter_id }}\",\n    \"target\": {\n      \"targetType\": \"twitter\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Caption }}\",\n      \"platform\": \"twitter\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "options": {}
      },
      "id": "73a99b9d-1275-409f-8630-8c481ac827da",
      "name": "TWETTER",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1136,
        -48
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/posts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.linkedin_id }}\",\n    \"target\": {\n      \"targetType\": \"linkedin\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Caption }}\",\n      \"platform\": \"linkedin\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "options": {}
      },
      "id": "a7c1d941-62e3-48f8-9585-3b4141298cf8",
      "name": "LINKEDIN",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        704,
        192
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/posts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "= {\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.bluesky_id }}\",\n    \"target\": {\n      \"targetType\": \"bluesky\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Caption }}\",\n      \"platform\": \"bluesky\",\n      \"mediaUrls\": [\n        \"https://pbs.twimg.com/media/GE8MgIiWEAAfsK3.jpg\"\n      ]\n    }\n  }\n}\n",
        "options": {}
      },
      "id": "cca4416f-44c2-4ffa-bbbe-5b2d935e0e2d",
      "name": "BLUESKY",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        928,
        192
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://backend.blotato.com/v2/posts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.pinterest_id }}\",\n    \"target\": {\n      \"targetType\": \"pinterest\",\n      \"boardId\": \"{{ $('Assign Social Media IDs').item.json.pinterest_board_id }}\"      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Caption }}\",\n      \"platform\": \"pinterest\",\n      \"mediaUrls\": [\n        \"https://pbs.twimg.com/media/GE8MgIiWEAAfsK3.jpg\"\n      ]\n    }\n  }\n}\n\n",
        "options": {}
      },
      "id": "7e538a5e-3958-43e8-8c65-c8118c89e235",
      "name": "PINTEREST",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1136,
        192
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "content": "# üü´ STEP 1 ‚Äî Clone a viral TikTok video",
        "height": 300,
        "width": 2460
      },
      "id": "10bd6e92-1d95-4620-bbf4-4481cc73fbaf",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -464,
        -1360
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "# üü¶ STEP 2 ‚Äî Suggest new content idea\n",
        "height": 304,
        "width": 1920,
        "color": 4
      },
      "id": "ba2135dd-a667-4651-bf8e-386c95b80c52",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -464,
        -976
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "# üü™ STEP 3 ‚Äî Create the new video with your avatar\n\n",
        "height": 300,
        "width": 1920
      },
      "id": "937d0540-a79d-4067-8781-a7d9533d9282",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -464,
        -640
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "# üü• STEP 4 ‚Äî Publish to 9 platforms\n",
        "height": 680,
        "width": 1920,
        "color": 3
      },
      "id": "725acc94-2ee1-4b75-94e9-661a0ef4b2f3",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -464,
        -320
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "id": "72489dc2-122e-4362-8c99-9d3dd0e881f0",
      "name": "Trigger: Get TikTok URL via Telegram",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [
        -336,
        -1248
      ],
      "webhookId": "9a749f58-0f17-45ef-80a9-0e8d17bde5b5",
      "typeVersion": 1.1,
      "credentials": {
        "telegramApi": {
          "id": "1R6NtxOSWltEfxF9",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "url": "=https://tiktok-download-video1.p.rapidapi.com/getVideo?url={{ $json.message.text }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "x-rapidapi-host",
              "value": "tiktok-download-video1.p.rapidapi.com"
            },
            {
              "name": "x-rapidapi-key",
              "value": "7ab6408368mshf77b85db667f8cdp1bc896jsn5f58ba6e552f"
            }
          ]
        },
        "options": {}
      },
      "id": "f6f48dc3-75fe-4bc9-b643-a678458274ba",
      "name": "Download TikTok Video (RapidAPI)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -112,
        -1248
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "url": "={{ $json.data.origin_cover }}",
        "options": {}
      },
      "id": "ccd96f77-b869-483a-92f3-3018d6419e75",
      "name": "Extract Video Thumbnail",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        112,
        -1248
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.cloudinary.com/v1_1/YOUR_ID/image/upload",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBasicAuth",
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "parameterType": "formBinaryData",
              "name": "file",
              "inputDataFieldName": "data"
            },
            {
              "name": "upload_preset",
              "value": "n8n_clone"
            }
          ]
        },
        "options": {}
      },
      "id": "fb258956-73aa-46b8-bd5c-15c7a8caed05",
      "name": "Upload Thumbnail to Cloudinary",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        336,
        -1248
      ],
      "typeVersion": 4.2,
      "credentials": {
        "httpBasicAuth": {
          "id": "Is9XAetBKQxGROzl",
          "name": "Unnamed credential"
        }
      }
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "text": "Reverse engineer this image. I want you to write a prompt that will recreate this as a new image.",
        "imageUrls": "={{ $json.url }}",
        "options": {}
      },
      "id": "e697dcd6-9dae-4a6e-a7db-a6a4a3b3747a",
      "name": "Analyze Thumbnail (GPT-4o Vision)",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        544,
        -1248
      ],
      "typeVersion": 1.8,
      "credentials": {
        "openAiApi": {
          "id": "nc9NYAUk9GLCmVcv",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o",
          "cachedResultName": "GPT-4O"
        },
        "messages": {
          "values": [
            {
              "content": "=Identify the primary text located at the top of the image described above:\n{{ $json.content }}\n\nReturn only that specific top text as the output.\n\nDo not include any quotation marks.\n\nFocus only on the top section's text in the image and disregard any other content."
            }
          ]
        },
        "options": {}
      },
      "id": "db0b2d93-ecc7-4114-88c7-d26def7cb977",
      "name": "Extract Overlay Text (GPT-4o)",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        768,
        -1248
      ],
      "typeVersion": 1.8
    },
    {
      "parameters": {
        "url": "={{ $('Download TikTok Video (RapidAPI)').item.json.data.music }}",
        "options": {}
      },
      "id": "00e3e2a6-416b-4604-b0d3-747188eff2ea",
      "name": "Download TikTok Audio",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1136,
        -1248
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "resource": "audio",
        "operation": "transcribe",
        "options": {}
      },
      "id": "21ae5075-3cd0-4770-b68a-6518b4b1a764",
      "name": "Transcribe Audio to Script (GPT)",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1344,
        -1248
      ],
      "typeVersion": 1.8,
      "credentials": {
        "openAiApi": {
          "id": "nc9NYAUk9GLCmVcv",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Utility to create a random alphanumeric ID\nfunction createUniqueId(length = 12) {\n  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  let id = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    id += characters[randomIndex];\n  }\n  return id;\n}\n\n// Return the ID in the expected output structure\nreturn [\n  {\n    json: {\n      code: createUniqueId()\n    }\n  }\n];"
      },
      "id": "bf43515d-af2d-4e09-b530-66b8ed605157",
      "name": "Generate Unique Template ID",
      "type": "n8n-nodes-base.code",
      "position": [
        1568,
        -1248
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "="
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1SoYJvZbVNn4L1FNfk9eFqx_vGlCsMxgw8bx0DVFgBLY/edit#gid=0",
          "cachedResultName": "Template"
        },
        "columns": {
          "value": {
            "Caption": "={{ $('Download TikTok Video (RapidAPI)').item.json.data.title }}",
            "ID du mod√®le": "={{ $json.code }}",
            "Lien de la vid√©o": "={{ $('Trigger: Get TikTok URL via Telegram').item.json.message.text }}",
            "Mod√®le de script vid√©o": "={{ $('Transcribe Audio to Script (GPT)').item.json.text }}",
            "Mod√®le de texte superpos√©": "={{ $('Download TikTok Audio').item.json.message.content }}"
          },
          "schema": [
            {
              "id": "ID du mod√®le",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "ID du mod√®le",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Lien de la vid√©o",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Lien de la vid√©o",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Mod√®le de texte superpos√©",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Mod√®le de texte superpos√©",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Mod√®le de script vid√©o",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Mod√®le de script vid√©o",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Caption",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Caption",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "ab4f4466-6b08-4fce-aeac-b54229ec75a0",
      "name": "Save Original Video to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1792,
        -1248
      ],
      "typeVersion": 4.5,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "Ge8ZY5BKVJWFm5Cf",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.perplexity.ai/chat/completions",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer YOUR_API_KEY"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"sonar-reasoning\",\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"Suggest a content idea different from this video script: \\\"{{ $json['Mod√®le de script vid√©o'] }}\\\". It should be in the same niche and on the exact same topic or content idea but offer fresh value. You must pick one idea from your research that matches the topic idea of the video script exactly but is also different and unique from it so it would stand out on social media. Example: if the video script contains a list of tools, your topic must also be a list of tools in that video script topic but slightly different, maybe different tools etc. If the video's script is about a plan, strategies, or whatever, you must also make your topic about that. So you must maintain the nature of the topic in the video script. You absolutely must be specific as the original video script. You can't just mention generic tools or strategies if the original video script contains specific tools. Etc. That is the level of accuracy and perfect matching of the video script original topic. Make sure it appeals to a broad audience like the example.\"\n    }\n  ]\n}\n",
        "options": {}
      },
      "id": "bd6738ee-d5a3-4ee9-b5ed-79a441fc569e",
      "name": "Suggest Similar Idea (Perplexity)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -336,
        -912
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "jsCode": "// Step 1: Pull raw input\nlet raw = $input.first().json.choices[0].message.content;\n// Step 2: Forcefully remove anything between <think> and </think>\nlet cleaned = raw.replace(/<think>(.|\\n)*?<\\/think>/gi,\n'').trim();\n// Optional cleanup: remove leading/trailing blank lines\ncleaned = cleaned.replace(/^\\s+|\\s+$/g, '');\n// Done\nreturn [\n{\njson: {\ncleanedResponse: cleaned\n}\n}\n];\n"
      },
      "id": "e1ec8925-1dd7-47b0-af34-bd1dbe4fe7eb",
      "name": "Clean Perplexity Response",
      "type": "n8n-nodes-base.code",
      "position": [
        -96,
        -912
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o",
          "cachedResultName": "GPT-4O"
        },
        "messages": {
          "values": [
            {
              "content": "=You are rewriting a TikTok video script, caption, and overlay ‚Äî\nnot inventing a new one. You must follow this format and obey\nthese rules strictly.\n---\n### CONTEXT:\nHere is the content idea to use:\n{{ $json.cleanedResponse }}\n\n---\n### STEP 1: Rewrite the original video script BELOW using the new\ntopic/context above but maintaiin as stubbornly as possible the\noriginal script structure and style:\nOriginal script: {{ $('Save Original Video to Google Sheets').item.json['Mod√®le de script vid√©o'] }}\n\n\nüõë DO NOT CHANGE the original structure or style but\nThis includes:\n- Numbered list\n- Sentence breaks\n- \"I\" or first-person narration\n- Colloquial/informal tone (like ‚Äúyou're gonna wanna...‚Äù)\n‚úÇÔ∏è You MUST keep:\n- first person narration of the orignal script at all costs\n- MUST be under 700 characters (yes \"Characters\" not wordcount)\nthis is an absolute MUST, no more than 700 characters!!! But never\nchange the structure or narration style of the original script. It\nmust be an exact imitation.\n‚úèÔ∏è You MAY change:\n- Tool names\n- Use cases\n- Descriptions\n- Niche-specific keywords\n\n#Rule: never use any characers like \"\" in your generated video\nscript as this will yeild syntax errors.\n---\n### STEP 2: Rewrite the caption text using the new topic.\nKeep:\n- Same structure and tone\n- Same use of #hashtags but space between each hashtag\n- Similar sentence count and layout\nCaption:\n{{ $('Save Original Video to Google Sheets').item.json.Caption }}\n\n---\n### STEP 3: Rewrite the text overlay (short version for the\nthumbnail or first screen)\nKeep:\n- EXACT Same length format, case, structure\n- Do NOT invent new words unless absolutely necessary\nOverlay:\n{{ $('Save Original Video to Google Sheets').item.json['Mod√®le de texte superpos√©'] }}\n---\n### FINAL OUTPUT FORMAT (no markdown formatting):\nText Overlay: [REWRITTEN TEXT OVERLAY]\nVideo Script: [REWRITTEN SCRIPT]\nCaption Text: [REWRITTEN CAPTION TEXT]\nDO NOT return any explanations. Only return the rewritten\nsections."
            }
          ]
        },
        "options": {}
      },
      "id": "5a6d3a95-0b78-408f-b999-f2fd0817ced0",
      "name": "Rewrite Script, Caption, Overlay (GPT-4o)",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        224,
        -912
      ],
      "typeVersion": 1.8
    },
    {
      "parameters": {
        "jsCode": "// R√©cup√®re le contenu du premier item\nconst input = $input.first().json.message.content;\n\n// On tol√®re les retours √† la ligne r√©els (\\n) ou √©chapp√©s (\\\\n)\n\n// Text Overlay\nconst textOverlayMatch = input.match(\n  /Text\\s*Overlay:\\s*(.+?)(?:\\r?\\n|\\\\n)/s\n);\n\n// Video Script\nconst videoScriptMatch = input.match(\n  /Video\\s*Script:\\s*(.+?)(?:\\r?\\n|\\\\n)Caption\\s*Text:/s\n);\n\n// Caption Text (jusqu'√† la fin)\nconst captionTextMatch = input.match(\n  /Caption\\s*Text:\\s*(.+)/s\n);\n\nreturn [\n  {\n    json: {\n      textOverlay:   textOverlayMatch   ? textOverlayMatch[1].trim()   : null,\n      videoScript:   videoScriptMatch   ? videoScriptMatch[1].trim()   : null,\n      captionText:   captionTextMatch   ? captionTextMatch[1].trim()   : null,\n    }\n  }\n];\n"
      },
      "id": "1178bd1b-7607-455d-9d93-2d08bfdbd3aa",
      "name": "Split Rewritten Content into Sections",
      "type": "n8n-nodes-base.code",
      "position": [
        704,
        -912
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "jsCode": "// Utility to create a random alphanumeric ID\nfunction createUniqueId(length = 12) {\n  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  let id = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    id += characters[randomIndex];\n  }\n  return id;\n}\n\n// Return the ID in the expected output structure\nreturn [\n  {\n    json: {\n      code: createUniqueId()\n    }\n  }\n];"
      },
      "id": "f10ba7a9-9898-4190-b0e8-5e9c127ff582",
      "name": "Generate New Video ID",
      "type": "n8n-nodes-base.code",
      "position": [
        928,
        -912
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "="
        },
        "sheetName": {
          "__rl": true,
          "mode": "id",
          "value": "=52679157"
        },
        "columns": {
          "value": {
            "Sujet": "={{ $('Clean Perplexity Response').first().json.cleanedResponse }}",
            "Script": "={{ $('Split Rewritten Content into Sections').item.json.videoScript }}",
            "Caption": "={{ $('Split Rewritten Content into Sections').item.json.captionText }}",
            "ID du mod√®le": "={{ $('Generate Unique Template ID').first().json.code }}",
            "ID de la vid√©o": "={{ $json.code }}",
            "Texte superpos√©": "={{ $('Split Rewritten Content into Sections').item.json.textOverlay }}"
          },
          "schema": [
            {
              "id": "ID du mod√®le",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "ID du mod√®le",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ID de la vid√©o",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ID de la vid√©o",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Sujet",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Sujet",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Texte superpos√©",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Texte superpos√©",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Script",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Script",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Caption",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Caption",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "URL de la vid√©o",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "URL de la vid√©o",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Date de publication",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Date de publication",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Statut",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Statut",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "42543574-6d16-4c71-b8af-ae94fac169ef",
      "name": "Save Rewritten Video to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1104,
        -912
      ],
      "typeVersion": 4.5,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "Ge8ZY5BKVJWFm5Cf",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.captions.ai/api/creator/list",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "x-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "options": {}
      },
      "id": "551fea95-fba4-4cca-a577-6d28612c060a",
      "name": "Fetch Available Avatars",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -336,
        -528
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.captions.ai/api/creator/submit",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "x-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n\"script\": \"{{ $('Save Rewritten Video to Google Sheets').item.json.Script }}\",\n\"creatorName\": \"{{ $json.supportedCreators[0] }}\",\n\"resolution\": \"fhd\"\n}",
        "options": {}
      },
      "id": "cc90a931-0262-4504-bbc2-bb0fd4fd9d84",
      "name": "Generate Video with Avatar",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -96,
        -528
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "amount": 3,
        "unit": "minutes"
      },
      "id": "ec18473d-535b-41f3-8da8-33148e8fce2d",
      "name": "Wait for Avatar Rendering (3 min)",
      "type": "n8n-nodes-base.wait",
      "position": [
        112,
        -528
      ],
      "webhookId": "779e4676-d28f-4be9-9118-c90c688e805a",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.captions.ai/api/creator/poll",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "x-api-key",
              "value": "YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n \"operationId\": \"{{ $json[\"operationId\"] }}\"\n}",
        "options": {}
      },
      "id": "eab81a8c-4172-456b-b7fa-557beeb77990",
      "name": "Fetch Avatar Video URL",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        304,
        -528
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.json2video.com/v2/movies",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpCustomAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "=\n{\n\"id\": \"qbaasr7s\",\n\"resolution\": \"instagram-story\",\n\"quality\": \"high\",\n\"scenes\": [\n{\n\"id\": \"qyjh9lwj\",\n\"comment\": \"Scene 1\",\n\"elements\": []\n}\n],\n\"elements\": [\n{\n\"id\": \"q6dznzcv\",\n\"type\": \"video\",\n\"src\": \"{{ $json.url }}\",\n\"resize\": \"cover\"\n},\n{\n\"id\": \"top-text\",\n\"type\": \"text\",\n\"text\": \"{{ $('Save Rewritten Video to Google Sheets').item.json['Texte superpos√©'] }}\",\n\"settings\": {\n\"font-family\": \"Arial\",\n\"font-size\": \"60px\",\n\"color\": \"#000000\",\n\"background-color\": \"#FFFFFF\",\n\"horizontal-position\": \"center\",\n\"vertical-position\": \"top\",\n\"margin-top\": \"100px\",\n\"word-break\": \"break-word\",\n\"overflow-wrap\": \"break-word\",\n\"font-weight\": \"bold\",\n\"text-align\": \"center\",\n\"width\": \"80%\",\n\"padding\": \"0px\",\n\"line-height\": \"1.2\",\n\"margin\": \"50px 0 0 0\",\n\"padding\": \"0 10px 0 10px\",\n\"border-radius\": \"15px\"\n}\n},\n{\n\"id\": \"q41n9kxp\",\n\"type\": \"subtitles\",\n\"settings\": {\n\"style\": \"classic\",\n\"position\": \"bottom\",\n\"font-family\": \"Arial\",\n\"font-size\": \"100px\",\n\"word-color\": \"#ffd700\",\n\"shadow-color\": \"#260B1B\",\n\"line-color\": \"#F1E7F4\",\n\"shadow-offset\": 0,\n\"box-color\": \"#260B1B\",\n\"outline-color\": \"#000000\",\n\"outline-width\": 8\n},\n\"language\": \"en\"\n}\n]\n}",
        "options": {}
      },
      "id": "b308055f-9c88-48b6-8290-f0fd48ef5cc4",
      "name": "Add Overlay Text with JSON2Video",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        512,
        -528
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "amount": 2,
        "unit": "minutes"
      },
      "id": "e43df5f2-63ea-400b-99f6-7d69984dd8b8",
      "name": "Wait for Caption Rendering",
      "type": "n8n-nodes-base.wait",
      "position": [
        704,
        -528
      ],
      "webhookId": "67093c5d-34fa-44e8-9dfd-e25ca5f99ac2",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "url": "=https://api.json2video.com/v2/movies?id={{ $json.project }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpCustomAuth",
        "options": {}
      },
      "id": "13cc1edc-6fad-495c-bb7d-daa0c30f1a7a",
      "name": "Fetch Final Video from JSON2Video",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        912,
        -528
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "="
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 52679157,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1SoYJvZbVNn4L1FNfk9eFqx_vGlCsMxgw8bx0DVFgBLY/edit#gid=52679157",
          "cachedResultName": "MA VIDEO"
        },
        "columns": {
          "value": {
            "ID de la vid√©o": "={{ $('Save Rewritten Video to Google Sheets').item.json['ID de la vid√©o'] }}",
            "URL de la vid√©o": "={{ $json.movie.url }}"
          },
          "schema": [
            {
              "id": "ID du mod√®le",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "ID du mod√®le",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ID de la vid√©o",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ID de la vid√©o",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Sujet",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Sujet",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Texte superpos√©",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Texte superpos√©",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Script",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Script",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Caption",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Caption",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "URL de la vid√©o",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "URL de la vid√©o",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Date de publication",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Date de publication",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Statut",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Statut",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "ID de la vid√©o"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "bf6835ca-e4a6-4b46-b793-359ba82e9d44",
      "name": "Update Final Video URL in Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1104,
        -528
      ],
      "typeVersion": 4.5
    },
    {
      "parameters": {
        "chatId": "={{ $('Trigger: Get TikTok URL via Telegram').item.json.message.chat.id }}",
        "text": "=Url VIDEO : {{ $json['URL de la vid√©o'] }}",
        "additionalFields": {}
      },
      "id": "7a18b43b-92a9-40c0-840f-1dbcc90bf53b",
      "name": "Send Video URL via Telegram",
      "type": "n8n-nodes-base.telegram",
      "position": [
        -320,
        -48
      ],
      "webhookId": "37975672-4633-4c65-a8d8-4d101bff5f84",
      "typeVersion": 1.2,
      "credentials": {
        "telegramApi": {
          "id": "1R6NtxOSWltEfxF9",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendVideo",
        "chatId": "={{ $json.result.chat.id }}",
        "file": "={{ $('Update Final Video URL in Sheet').item.json['URL de la vid√©o'] }}",
        "additionalFields": {}
      },
      "id": "0381fe83-873f-47fd-b74f-291ba742b4f2",
      "name": "Send Final Video Preview",
      "type": "n8n-nodes-base.telegram",
      "position": [
        -112,
        -48
      ],
      "webhookId": "ee91d7ee-1c35-41fa-b8f0-f153b8776369",
      "typeVersion": 1.2
    }
  ],
  "connections": {
    "Assign Social Media IDs": {
      "main": [
        [
          {
            "node": "Upload Video to Blotato",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload Video to Blotato": {
      "main": [
        [
          {
            "node": "INSTAGRAM",
            "type": "main",
            "index": 0
          },
          {
            "node": "YOUTUBE",
            "type": "main",
            "index": 0
          },
          {
            "node": "TIKTOK",
            "type": "main",
            "index": 0
          },
          {
            "node": "FACEBOOK",
            "type": "main",
            "index": 0
          },
          {
            "node": "THREADS",
            "type": "main",
            "index": 0
          },
          {
            "node": "TWETTER",
            "type": "main",
            "index": 0
          },
          {
            "node": "LINKEDIN",
            "type": "main",
            "index": 0
          },
          {
            "node": "BLUESKY",
            "type": "main",
            "index": 0
          },
          {
            "node": "PINTEREST",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Trigger: Get TikTok URL via Telegram": {
      "main": [
        [
          {
            "node": "Download TikTok Video (RapidAPI)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download TikTok Video (RapidAPI)": {
      "main": [
        [
          {
            "node": "Extract Video Thumbnail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Video Thumbnail": {
      "main": [
        [
          {
            "node": "Upload Thumbnail to Cloudinary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload Thumbnail to Cloudinary": {
      "main": [
        [
          {
            "node": "Analyze Thumbnail (GPT-4o Vision)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze Thumbnail (GPT-4o Vision)": {
      "main": [
        [
          {
            "node": "Extract Overlay Text (GPT-4o)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Overlay Text (GPT-4o)": {
      "main": [
        [
          {
            "node": "Download TikTok Audio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download TikTok Audio": {
      "main": [
        [
          {
            "node": "Transcribe Audio to Script (GPT)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transcribe Audio to Script (GPT)": {
      "main": [
        [
          {
            "node": "Generate Unique Template ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Unique Template ID": {
      "main": [
        [
          {
            "node": "Save Original Video to Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save Original Video to Google Sheets": {
      "main": [
        [
          {
            "node": "Suggest Similar Idea (Perplexity)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Suggest Similar Idea (Perplexity)": {
      "main": [
        [
          {
            "node": "Clean Perplexity Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Clean Perplexity Response": {
      "main": [
        [
          {
            "node": "Rewrite Script, Caption, Overlay (GPT-4o)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Rewrite Script, Caption, Overlay (GPT-4o)": {
      "main": [
        [
          {
            "node": "Split Rewritten Content into Sections",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Rewritten Content into Sections": {
      "main": [
        [
          {
            "node": "Generate New Video ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate New Video ID": {
      "main": [
        [
          {
            "node": "Save Rewritten Video to Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save Rewritten Video to Google Sheets": {
      "main": [
        [
          {
            "node": "Fetch Available Avatars",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Available Avatars": {
      "main": [
        [
          {
            "node": "Generate Video with Avatar",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Video with Avatar": {
      "main": [
        [
          {
            "node": "Wait for Avatar Rendering (3 min)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait for Avatar Rendering (3 min)": {
      "main": [
        [
          {
            "node": "Fetch Avatar Video URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Avatar Video URL": {
      "main": [
        [
          {
            "node": "Add Overlay Text with JSON2Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Overlay Text with JSON2Video": {
      "main": [
        [
          {
            "node": "Wait for Caption Rendering",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait for Caption Rendering": {
      "main": [
        [
          {
            "node": "Fetch Final Video from JSON2Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Final Video from JSON2Video": {
      "main": [
        [
          {
            "node": "Update Final Video URL in Sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update Final Video URL in Sheet": {
      "main": [
        [
          {
            "node": "Send Video URL via Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Video URL via Telegram": {
      "main": [
        [
          {
            "node": "Send Final Video Preview",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Final Video Preview": {
      "main": [
        [
          {
            "node": "Assign Social Media IDs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {
    "Trigger: Get TikTok URL via Telegram": [
      {
        "name": "First item",
        "code": 1
      },
      {
        "name": "Second item",
        "code": 2
      }
    ]
  },
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "57f49b9b59f4c9bfc7721a06f24ea9f25e39c9869f1fd6af7a7d2e3abc08d19f"
  }
}
